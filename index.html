<!DOCTYPE>
<html>
    <head>
    <title>stream-statistics</title>
    <script src='src/stream_statistics.js' type='text/javascript'></script>
    <style>
        body {
            width:300px;
            margin:20px auto;
        }
        table {
            border-collapse:collapse;
        }
        th {
            padding-right:10px;
        }
        td, th {
            text-align:left;
            border-bottom:1px solid #000;
        }
    </style>
    </head>
    <body>
        <h1>stream-statistics</h1>
        <table>
            <tr><th>variance</th><td id='variance'></td></tr>
            <tr><th>standard deviation</th><td id='standard_deviation'></td></tr>
            <tr><th>min</th><td id='min'></td></tr>
            <tr><th>max</th><td id='max'></td></tr>
            <tr><th>sum</th><td id='sum'></td></tr>
            <tr><th>n</th><td id='n'></td></tr>
        </table>
        <script>
            var ss = new stream_statistics();
            var variance = document.getElementById('variance');
            var standard_deviation = document.getElementById('standard_deviation');
            var sum = document.getElementById('sum');
            var min = document.getElementById('min');
            var max = document.getElementById('max');
            var n = document.getElementById('n');
            window.setInterval(function() {
                ss.write(Math.random() * 100);
                variance.innerHTML = ss.variance();
                standard_deviation.innerHTML = ss.standard_deviation();
                sum.innerHTML = ss.sum();
                min.innerHTML = ss.min();
                max.innerHTML = ss.max();
                n.innerHTML = ss.n();
            }, 5);
        </script>
    </body>
</html>
